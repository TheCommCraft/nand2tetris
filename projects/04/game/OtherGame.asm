// INIT

@SCREEN
D=A
@50
D=D+A
@POSPIX
M=D
@5
D=A
@POSSUBPIX
M=D

@32
D=A
@DPOSPIX
M=D
@2
D=A
@DPOSSUBPIX
M=D

// LOOP
(LOOP)
// Save previous position
@POSPIX
D=M
@PREVPOSPIX
M=D
@POSSUBPIX
D=M
@PREVPOSSUBPIX
M=D
(WHENSUBPIXEQ0)
@1
D=A
@CURRENTPIXEL
M=D

@POSPIX
D=M
A=M

